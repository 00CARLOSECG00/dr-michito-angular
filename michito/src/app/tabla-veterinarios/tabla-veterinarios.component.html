<app-barra-lateral></app-barra-lateral>
<div class="contenedor-principal">
  <main
    role="main"
    class="col-md-9 ml-sm-auto col-lg-10 px-4 contenido-principal">
    <!-- Botón para volver atras 
    <div>
      <a class="btn btn-outline-secondary" (click)="atras()">
        <img
          src="/images/iconos/arrow-circle-left-purple.png"
          alt="Icono Atras"
        />
      </a>
    </div>
    -->


      <div
        class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"
      >
    
          <h1>Personal</h1>
       
        <div class="mb-3 search-container">
          <input 
            type="text" 
            class="form-control search-input" 
            placeholder="Buscar mascota por nombre..." 
            [(ngModel)]="searchTerm" 
            (input)="onSearch()"
          >
        </div>
        
        <div class="btn-toolbar mb-2 mb-md-0">
          <div class="btn-group mr-2">
            <button class="btn btn-green" (click)="agregarVeterinario()">
              + Agregar veterinario
            </button>
          </div>
        </div>
      </div>

      <table class="table table-striped table-hover">
        <thead class="table-hover">
          <tr>
            <th>Id</th>
            <th>Cédula</th>
            <th>Nombre</th>
            <th>Correo</th>
            <th>Celular</th>
            <th>Especialidad</th>
            <th>Estado</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <!-- Añadir el pipe `paginate` para paginar los elementos -->
          <tr
            *ngFor="
              let Veterinarios of veterinariosMostrados
                | paginate : { itemsPerPage: 8, currentPage: page }
            "
          >
            <td>{{ Veterinarios.id }}</td>
            <td>{{ Veterinarios.cedula }}</td>
            <td>{{ Veterinarios.nombre }}</td>
            <td>{{ Veterinarios.correo }}</td>
            <td>{{ Veterinarios.celular }}</td>
            <td>{{ Veterinarios.especialidad }}</td>
            <td>
              <i *ngIf="Veterinarios.estado" class="estatus hecho"></i>
              <i *ngIf="!Veterinarios.estado" class="estatus pendiente"></i>
            </td>
          
            <td>
              <button class="btn btn-green" (click)="verVeterinario(Veterinarios)">
                Ver
              </button>
            </td>
            <td>
              <button
                class="btn btn-sm btn-edit"
                (click)="editarVeterinario(Veterinarios)"
              >
                <img
                  src="/images/iconos/editIcon.png"
                  alt="Editar"
                  class="action-icon"
                />
              </button>
              <button
                class="btn btn-sm btn-delete"
                (click)="eliminarVeterinario(Veterinarios)"
              >
                <img
                  src="/images/iconos/trashIcon.png"
                  alt="Eliminar"
                  class="action-icon"
                />
              </button>
            </td>
          </tr>
        </tbody>
      </table>
      <div *ngIf="veterinariosMostrados.length === 0" class="alert alert-info">
        No se encontraron veterinarios que coincidan con la búsqueda.
      </div>
      <!-- Añadir controles de paginación -->
      <div class="paginacion text-center">
        <pagination-controls
          (pageChange)="page = $event" 
          [maxSize]="7"
          previousLabel="Anterior"
          nextLabel="Siguiente"
          class="my-pagination"
        ></pagination-controls>
      </div>
  </main>
</div>
